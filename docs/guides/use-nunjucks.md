# Use Nunjucks

You can use our Nunjucks code to generate the HTML for pages and components.

You can also change the HTML that’s generated by passing options into the Nunjucks code.

If you use Nunjucks, your application will be easier to update when a new version of CCS Frontend is released.

To use Nunjucks, your application and any frameworks that support your application must use Node.js.

CCS Frontend uses GOV.UK Frontend assets so this guide will also show you how to use Nunjucks with those components too.

You do not need to follow this guidance to use Nunjucks macros in the GOV.UK Prototype Kit.
There are more details on [how to use CCS Frontend with GOV.UK Prototype Kit](govuk-prototype-kit.md).

## Before you start

You must first:

- [install CCS Frontend with Node.js package manager (npm)](/docs/instillation/install-with-npm.md)
- make sure you’ve installed Nunjucks so it’s working in your environment

## Set up Nunjucks and use the page template

1.  Add `node_modules/govuk-frontend/` and `node_modules/ts-ccs-frontend/` to your list of Nunjucks paths, so Nunjucks knows where to find the CCS Frontend and GOV.UK Frontend template and components.

    For example:
    ```js
        nunjucks.configure([
          "node_modules/govuk-frontend/",
          "node_modules/ts-ccs-frontend/",
          "YOUR-VIEWS-FOLDER"
        ])
    ```

2.  Use the CCS Frontend template by adding the following at the top of your view file:

    ```
    {% extends "ccs/template.njk" %}
    ```

<!-- TODO: and example from CCS Design System website -->
<!-- Go to the [default page template example](#) on the CCS Design System website, then copy the Nunjucks code into your view file. -->
3.  Copy the Nunjucks code from the [default page template example](../examples/pages/default-page-template-example.html) into your view file.

You may need to change the paths in the Nunjucks code to [get the CSS, assets and JavaScript working](import-assets.md).

Find out how to [change how the page template works](https://design-system.service.gov.uk/styles/page-template/#changing-template-content).

## Adding a component
<!-- TODO Create place to host examples -->
You can currently view any components code by [running this project locally](/docs/contributing/running-locally.md).

Go to any component page, then copy the Nunjucks macro code from the **Nunjucks** tab of any example.

For example, to add the footer component to your page, copy the code from the **Nunjucks** tab in the first example on the footer component page.

## Changing a component

You can use options to change how a component looks or behaves.

For example, use the `serviceName` option to change the text on the header:

```
{{ ccsHeader({
    serviceName: "Example service name"
}) }}
```

<!-- TODO: Add ability to see the options  -->

To see the options for a component, run this project as a local app and go to the components page.
On this page select click on **View Nunjucks macro options** which will take you to a new page with the options. 

You must sanitise any HTML you pass in to Nunjucks macros you’re using in your live application to protect your website against cross-site scripting (XSS) attacks. You can read more about [XSS](https://developer.mozilla.org/en-US/docs/Web/Security/Types_of_attacks#Cross-site_scripting_XSS) on the MDN website.
